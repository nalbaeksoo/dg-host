---
{"dg-publish":true,"permalink":"/9.일지/2025/2025-09-01/","dgPassFrontmatter":true,"noteIcon":""}
---

## To-Do List
- [ ] LBA/Smart Connection Rebalancing 점검: 서비스 목표(SERVICE_TIME/THROUGHPUT) 설정, FAN/ONS 구독, 풀 설정(UCP/ODP/OCI) 확인
  - [ ] JDBC UCP: FCF(on), ONS 구성 문자열, Affinity/Load Balancing 옵션 검토, 리밸런싱 비율·쿨다운 확인
  - [ ] ODP.NET/OCI: HA 이벤트 구독, 세션 풀 파라미터 검토(Min/Max, Inactive timeout, Statement cache)
- [ ] SEQUENCE 벤치마크: ORDER/NOORDER × CACHE 크기 조합으로 TPS·대기 이벤트 비교, 23ai vs 19c 동시 평가
- [ ] Karabiner-Elements 규칙 정식화: 내장·외장·RDP 환경 공통 한/영 전환 키 매핑, macOS 단축키 충돌 점검
- [ ] 순서도 리팩터링: 시작/종료·결정·병합 표기 정규화, 분기 라벨 명시, 교차선 최소화

## 기술 파트
- Smart Connection Rebalancing 요약
  - 목적: RAC 인스턴스별 부하·품질 변화에 맞춰 **이미 할당된 연결까지** 재분배해 응답 품질 균형화
  - 입력 신호: FAN/ONS의 UP/DOWN/LOAD 이벤트, 서비스 목표(LBA 메트릭)와 인스턴스 가중치, 드라이버/풀의 내부 통계(정확한 신호·계산식은 버전·클라이언트에 따라 상이 — 확실하지 않음)
  - 동작 개요: 풀은 이벤트를 수신하면 과부하 인스턴스로의 신규 대여를 억제하고 유휴 연결을 우선 회수, 필요 시 활성 연결도 점진적으로 축소하여 덜 바쁜 인스턴스에 신규 연결을 생성
  - 필수 조건(일반 원칙)
    - 서버: 서비스 목표(SERVICE_TIME 또는 THROUGHPUT) 지정, 서버 간 ONS 구성, FAN 활성화
    - 클라이언트/풀: FCF/FAN 구독 켜기, ONS 엔드포인트 지정, 런타임 LB 사용, 풀 최소/최대·증감 정책 설정
  - 검증 시나리오
    1. 두 인스턴스에 동일 서비스 제공 → 기준 성능 측정
    2. 한 인스턴스에 인위적 부하/리소스 축소 → FAN/ONS 이벤트 발생 확인
    3. 풀의 재분배 지연·비율·안정화 시간 기록(예: 30–120초 수렴 가정 — 추측입니다)
    4. 장애 복구 시 연결 재생성/세션 상태 초기화 정책 확인
- Oracle SEQUENCE 실험 메모
  - CACHE는 호출 빈도 감소, ORDER는 전역 순서 보장·직렬화 가능성, NOORDER는 확장성 유리 가능성(워크로드·버전에 따라 편차 — 확실하지 않음)
  - 관찰 포인트: enq 대기·래치 경합·REDO 영향, 갭·중복 허용 범위 정의
- Karabiner-Elements 입력 전환
  - CapsLock/Option을 입력 소스 전환으로 매핑, macOS 기본 단축키와의 충돌·RDP IME 이중 전환 가능성 주의(확실하지 않음)
- 순서도 정비
  - 표준 도형·분기 라벨·루프 엔트리/엑싯 분리, 교차선 최소화 권장

## 비기술 파트
- 사용성·정확성 균형을 위한 포맷 유지 합의: 코드 블록 전체 출력, 체크박스 강제, 섹션 순서 고정, 불필요한 빈줄 제거

## 감정 상태
- 누락 보완에 신속 반응, 핵심 개념을 실행 절차로 연결하는 태도 유지

## 해시태그
#OracleRAC #LBA #FAN #ONS #UCP